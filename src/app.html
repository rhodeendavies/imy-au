<template>
	<require from="@fortawesome/fontawesome-free/css/all.min.css"></require>
	<require from="./styles.css"></require>
	<require from="navbar/navbar"></require>
	<require from="Reflections/ReflectionPrompts/dailyReflection/daily-prompts"></require>
	<require from="Reflections/ReflectionPrompts/planning/planning-prompts"></require>
	<require from="Reflections/ReflectionPrompts/monitoring/monitoring-prompts"></require>
	<require from="Reflections/ReflectionPrompts/evaluation/evaluation-prompts"></require>

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700
		&family=Roboto:ital,wght@0,300;0,400;1,300;1,400&display=swap
		&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"> 

	<div class="app-wrapper ${authService.Authenticated && !Loading ? 'app-wrapper-grid' : ''}">
		<page-loader if.bind="Loading"></page-loader>
		
		<div class="app-nav">
			<navbar></navbar>
		</div>
		<div class="app-body">
			<router-view></router-view>
		</div>
		
		<toast view-model.ref="toast"></toast>

		<modal view-model.ref="ratingModal">
			<div slot="header">
				Rate the video
			</div>
			<div slot="body">
				<radio-button options.bind="videoRatingOptions" value.bind="appState.ratingSelected" type="blocks"
					label="You've finished ${appState.watchedLesson}. Rate your understanding of the concepts in the video.">
				</radio-button>
	
				<div class="btn-row">
					<button class="btn btn-primary" click.delegate="submitRating()"
						disabled.bind="appState.ratingSelected == null">
						Finish
					</button>
				</div>
			</div>
		</modal>

		<modal view-model.ref="dailyReflectionModal">
			<div slot="header" class="flex-gap-lg">
				<span class="square-icon">
					<span class="icon">edit</span>
				</span>
				New daily reflection
			</div>
			<div slot="body" class="prompt-modal-body">
				<daily-prompts></daily-prompts>
			</div>
		</modal>

		<modal view-model.ref="planningModal">
			<div slot="header" class="flex-gap-lg">
				<span class="square-icon">
					<span class="icon">edit</span>
				</span>
				PLANNING: Start of the week (${appState.reflectionSection})
			</div>
			<div slot="body" class="prompt-modal-body">
				<planning-prompts></planning-prompts>
			</div>
		</modal>
		
		<modal view-model.ref="monitoringModal">
			<div slot="header" class="flex-gap-lg">
				<span class="square-icon">
					<span class="icon">bar_chart</span>
				</span>
				MONITORING: Halfway through the content (${appState.reflectionSection})
			</div>
			<div slot="body" class="prompt-modal-body">
				<monitoring-prompts></monitoring-prompts>
			</div>
		</modal>

		<modal view-model.ref="evaluationModal">
			<div slot="header" class="flex-gap-lg">
				<span class="square-icon">
					<span class="icon">rate_review</span>
				</span>
				EVALUATING: End of the content (${appState.reflectionSection})
			</div>
			<div slot="body" class="prompt-modal-body">
				<evaluation-prompts></evaluation-prompts>
			</div>
		</modal>
	</div>
	
</template>