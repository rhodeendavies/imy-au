<template>
	<div class="reflections-details">
		<div class="reflection-header-wrapper">
			<div class="circle-icon">
				<span class="icon">bar_chart</span>
			</div>
			<div class="reflection-header">
				MONITORING: Halfway through the content
			</div>
			<div class="reflection-date" if.bind="localParent.FullReflection && DateRecorded != null">
				<span>${DateRecorded | dateFormat:'d LLLL'}</span>
				<div class="reflection-date-separator"></div>
				<span>${DateRecorded | dateFormat:'HH:mm'}</span>
			</div>
		</div>

		<div class="reflection-body" if.bind="MonitoringReflection == null">
			You haven't completed this reflection yet. You need to finish watching half of this
			week's videos to do so.
		</div>
	
		<div class="reflection-body" if.bind="MonitoringReflection != null">
			<div class="reflection-divider" if.bind="localParent.FullReflection">
				<div class="reflection-sub-heading">Feelings about ${localParent.Course} right now</div>
				<div class="percentage-wrapper">
					<div class="outer-border">
						<div class="inner-circle">
							<div class="percentage-text">
								${MonitoringReflection.courseFeelings.rating}%
							</div>
							<div class="percentage-fill" css="height: ${MonitoringReflection.courseFeelings.rating}%"></div>
						</div>
					</div>
				</div>
			</div>

			<div class="reflection-sub-heading">Current questions or confusion</div>
			<div class="reflection-divider reflection-text">
				${Questions}
			</div>

			<div class="reflection-sub-heading">Rating your strategies so far</div>
			<div class="summary-with-icon" repeat.for="category of strategies">
				<div class="summary-icon rating-icon saturate-${category.rating}">
					<span>${category.rating}%</span>
				</div>
				<div class="summary-text">
					<div class="summary-heading">${category.title}</div>
					<div class="summary-body" innerhtml.bind="category.strategy"></div>
					<div class="summary-modifiers">
						<div repeat.for="modifier of category.modifiers" class="summary-modifier">
							${modifier.name} +${modifier.amount}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</template>