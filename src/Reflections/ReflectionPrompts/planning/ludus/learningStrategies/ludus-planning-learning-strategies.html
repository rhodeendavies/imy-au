<template>
	<require from="resources/gauge/gauge"></require>

	<p class="reflection-question mb-30">
		Plan your learning approach for the week by selecting one strategy from each category. Think about how the
		strategy will fit into your schedule this week.
	</p>

	<div class="strategy-grid">
		<div class="strategy-option-wrapper" if.bind="!busy.active">
			<div repeat.for="strategy of strategies" class="strategy-option">
				<div class="strategy-heading-wrapper">
					<div class="strategy-heading">
						<span>${strategy.title}</span>
						<popup position="right">
							<div slot="popup">
								${strategy.description}
							</div>
						</popup>
					</div>
					<div class="strategy-sub-text">Choose 1</div>
				</div>
	
				<radio-button options.bind="strategy.options" name.bind="strategy.strategy" value.bind="strategy.modifiers"
					click.delegate="updateChart()" position="right">
				</radio-button>
			</div>
		</div>
		<div class="strategy-visual">
			<div class="strategy-heading">Summary of the components of your strategies</div>
			<div class="ludus-chart">
				<canvas id="componentsChart"></canvas>
			</div>
			<div class="ludus-info">
				Each component from your chosen strategies is shown below. The bars will be
				filled as you rate yourself on your chosen strategies. You can do this using the
				Daily Reflection button in the interface, or twice a week in the mandatory
				reflections.
			</div>
			<div class="ludus-gauges">
				<popup repeat.for="component of components">
					<div slot="item">
						<gauge value.bind="0"
							label.bind="component.name">
						</gauge>
					</div>
					<div slot="popup">${component.description}</div>
				</popup>
			</div>
		</div>
	</div>

	<div class="mt-30">
		<button class="btn btn-primary" click.delegate="submit()" disabled.bind="!AllowSubmit">
			Finish
		</button>
	</div>
</template>